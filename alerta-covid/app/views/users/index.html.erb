<!--p id='notice'><%#= notice %></p-->

<div class='container-fluid'>

  <h1 class="title mt-2">Users</h1>

  <div class='table-responsive mt-4'>
    <table class='table table-hover'>
      <thead>
        <tr>
          <th>Email</th>
          <th>Name</th>
          <th>Confirmed</th>
          <th>Role</th>
          <th>Department</th>
          <th>Gender</th>
          <th>Born Date</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @users.each do |user| %>
          <tr>
            <td><%= user.email %></td>
            <td><%= "#{user.full_name} #{user.lastname}" %></td>
            <td><%= user.confirmed_at.present? ? 'Confirmed' : 'Unconfirmed' %></td>
            <td><%= user&.role&.name %></td>
            <td><%= user&.departament&.name %></td>
            <td><%= user.gender == "1" ?  "Men" : "Women" %></td>
            <td><%= user.born_date.strftime("%d/%m/%Y") if(user.born_date) %></td>
            <td><%= link_to 'Show', user, class: "btn btn-success" %></td>
            <td><%= link_to 'Edit', edit_user_path(user), class: "btn btn-warning" %></td>
            <td><%= link_to 'Destroy', user, method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>

  <br>

  <%= link_to 'New User', new_user_path, class: "new-button" %>

</div>